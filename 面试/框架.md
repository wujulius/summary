#

## 

### java事务编程接口

    Java 事务编程接口（JTA：Java Transaction API）和 Java 事务服务 (JTS；Java Transaction Service) 为 J2EE 平台提供了分布式事务服务。分布式事务（Distributed Transaction）包括事务管理器（Transaction Manager）和一个或多个支持 XA 协议的资源管理器 ( ResourceManager )。

### 二阶段提交

    第一阶段：准备阶段，

        事务协调者(事务管理器)给每个参与者(资源管理器)发送 Prepare 消息，每个参与者要么直接返回失败(如权限验证失败)，要么在本地执行事务，写本地的 redo 和 undo 日志，但不提交

    第二阶段：提交阶段

        如果协调者收到了参与者的失败消息或者超时，直接给每个参与者发送回滚(Rollback)消息；否则，发送提交(Commit)消息；参与者根据协调者的指令执行提交或者回滚操作，释放所有事务处理过程中使用的锁资源。

## mybatis缓存

    mybatis有一级缓存和二级缓存，默认一级缓存是开启的，而且是不能关闭的，一级缓存是指sqlsession级别的缓存，当在同一个sqlsession中进行相同的sql语句查询时，第二次以后的查询不会从数据库查询而是直接从缓存中获取
    一级缓存最多缓存1024条sql
    二级缓存是指可以跨sqlsession的缓存，是mapper级别的缓存，对于mapper级别的缓存不同sqlsession是可以共享的

### mybatis

    是一款优秀的持久层框架，一个半orm框架。支持定制化sql，存储过程以及高级映射，mybatis避免了几乎所有的jdbc代码，和手动设置参数的过程以及获取结果级的过程，使用简单的xml或注解来配置和映射原生类型，接口和javapojo为数据库中的记录

### ORM

    ORM（Object Relational Mapping），对象关系映射，是一种为了解决关系型数据库数 据与简单Java对象（POJO）的映射关系的技术


    ORM是通过使用描述对象和 数据库之间映射的元数据，将程序中的对象自动持久化到关系型数据库中。

### 为什么说Mybatis是半自动ORM映射工具？它与全自动的区别在哪里？

    Hibernate属于全自动ORM映射工具，使用Hibernate查询关联对象或者关联集合对象时， 可以根据对象关系模型直接获取，所以它是全自
    动的。
    而Mybatis在查询关联对象或关联集合对象时，需要手动编写sql来完成，所以，称之为半 自动ORM映射工具。



